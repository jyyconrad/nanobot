# Nanobot Main Agent Configuration
# This configuration file demonstrates the complete configuration schema for the Nanobot main agent

# Agent Configuration
agents:
  defaults:
    workspace: "~/.nanobot/workspace"
    model: "anthropic/claude-opus-4-5"
    max_tokens: 8192
    temperature: 0.7
    max_tool_iterations: 20
  main_agent:
    name: "Main Agent"
    description: "Main orchestration agent for handling user messages"
    auto_create_subagents: true
    subagent_timeout: 3600  # seconds
    task_monitoring_enabled: true
  subagents:
    default_timeout: 1800  # seconds
    max_concurrent: 5
    retry_limit: 3
    retry_delay: 60  # seconds

# Communication Channels Configuration
channels:
  whatsapp:
    enabled: false
    bridge_url: "ws://localhost:3001"
    allow_from:
      - "+1234567890"
      - "+0987654321"
  telegram:
    enabled: false
    token: "YOUR_TELEGRAM_BOT_TOKEN"
    allow_from:
      - "123456789"
      - "@username"
    proxy: "http://127.0.0.1:7890"
  feishu:
    enabled: false
    app_id: "YOUR_APP_ID"
    app_secret: "YOUR_APP_SECRET"
    encrypt_key: "YOUR_ENCRYPT_KEY"
    verification_token: "YOUR_VERIFICATION_TOKEN"
    allow_from:
      - "ou_1234567890abcdef1234567890abcdef"

# LLM Provider Configuration
providers:
  anthropic:
    api_key: "YOUR_ANTHROPIC_API_KEY"
  openai:
    api_key: "YOUR_OPENAI_API_KEY"
    api_base: "https://api.openai.com/v1"
  openrouter:
    api_key: "YOUR_OPENROUTER_API_KEY"
    api_base: "https://openrouter.ai/api/v1"
  deepseek:
    api_key: "YOUR_DEEPSEEK_API_KEY"
  groq:
    api_key: "YOUR_GROQ_API_KEY"
  zhipu:
    api_key: "YOUR_ZHIPU_API_KEY"
    api_base: "https://open.bigmodel.cn/api/paas/v4"
  vllm:
    api_key: "YOUR_VLLM_API_KEY"
    api_base: "http://localhost:8000/v1"
  gemini:
    api_key: "YOUR_GEMINI_API_KEY"
  volcengine:
    api_key: "YOUR_VOLCENGINE_API_KEY"
    api_base: "https://ark.cn-beijing.volces.com/api/v3"

# Gateway Configuration
gateway:
  host: "0.0.0.0"
  port: 9910

# Tools Configuration
tools:
  web:
    search:
      api_key: "YOUR_BRAVE_API_KEY"
      max_results: 5
  exec:
    timeout: 60
    restrict_to_workspace: false

# Monitoring and Cron Configuration
monitoring:
  task:
    enabled: true
    check_interval: 3600  # seconds
    max_task_duration: 86400  # seconds
    auto_cleanup: true
    cleanup_delay: 3600  # seconds
  cron:
    enabled: true
    config_path: "~/.nanobot/cron-job-config.json"
    log_level: "INFO"
